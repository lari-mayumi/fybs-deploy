{"ast":null,"code":"var _jsxFileName = \"E:\\\\React\\\\fybs_project\\\\fybs\\\\fybs\\\\client\\\\src\\\\Components\\\\Post.js\",\n    _s = $RefreshSig$();\n\nimport \"./Post.modules.css\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useState } from \"react\";\nimport Axios from \"axios\";\nimport blackheart from \"../img/blackheart.png\";\nimport redheart from \"../img/redheart.png\";\nimport emptyShare from \"../img/emptyShare.png\";\nimport blueShare from \"../img/blueShare.png\";\nimport emptyRepost from \"../img/emptyRepost.png\";\nimport greenRepost from \"../img/greenRepost.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Post(_ref) {\n  _s();\n\n  let {\n    user,\n    texto,\n    id\n  } = _ref;\n  const [perfil, setPerfil] = useState([]);\n  const [likeList, setLikeList] = useState([]);\n  const navigate = useNavigate();\n  let userid = parseInt(localStorage.getItem(\"id\"));\n  let fotoPerfil = \"\";\n  let heart = blackheart;\n  let share = emptyShare;\n  let repost = emptyRepost;\n  let like = 0;\n  let i = 0;\n  let likeID = 0;\n  let verperfil = \"/verperfil/\" + user;\n\n  const getData = () => {\n    Axios.get(\"http://localhost:3001/users\").then(response => {\n      setPerfil(response.data);\n    });\n    i = 0;\n\n    while (i < perfil.length) {\n      if (user === perfil[i].nome) {\n        fotoPerfil = perfil[i].foto; //seta a foto de perfil do dono do post\n      }\n\n      i = i + 1;\n    }\n\n    Axios.get(\"http://localhost:3001/likes\").then(response => {\n      //seleciona todos os dados de likes\n      setLikeList(response.data);\n    });\n\n    while (i < likeList.length) {\n      //verifica se o user est치 dando like ou dislike\n      //console.log(likeList[i].postId, id)\n      if (likeList[i].userID === userid && likeList[i].postID === id) {\n        //console.log(\"j치 tem like \")\n        like = 1;\n        likeID = likeList[i].id;\n        heart = redheart;\n      }\n\n      i = i + 1;\n    }\n\n    if (like === 0) {\n      heart = blackheart;\n    }\n  };\n\n  const darLike = () => {\n    console.log(like);\n\n    if (like === 0) {\n      Axios.post(\"http://localhost:3001/addlike\", {\n        user: userid,\n        post: id\n      }).then(() => {\n        console.log(\"success\");\n      });\n      heart = redheart;\n    } else {\n      Axios.delete(\"http://localhost:3001/dislike\", {\n        id: likeID\n      }).then(() => {\n        console.log(\"success\");\n      });\n      console.log(\"dados enviados\");\n      heart = blackheart;\n    } //window.location.reload()\n\n    /*\r\n    if (heart === blackheart){\r\n        heart = redheart;\r\n        console.log(\"Vermelho\");\r\n    }\r\n    else {\r\n        heart = blackheart;\r\n        console.log(\"Preto\");\r\n    }*/\n    //window.location.reload()\n\n  };\n\n  getData();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userPost\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"profile-pic mr-3\",\n        src: fotoPerfil\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnUser\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          class: \"btnUser\",\n          href: verperfil,\n          children: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"corpoPost\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"texto\",\n          children: texto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btnIntercoes\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: darLike,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: heart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: repost\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: share\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Post, \"LvGEvv7AlO+/PwYnU/TeZXU/vFc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["Link","useNavigate","useState","Axios","blackheart","redheart","emptyShare","blueShare","emptyRepost","greenRepost","Post","user","texto","id","perfil","setPerfil","likeList","setLikeList","navigate","userid","parseInt","localStorage","getItem","fotoPerfil","heart","share","repost","like","i","likeID","verperfil","getData","get","then","response","data","length","nome","foto","userID","postID","darLike","console","log","post","delete"],"sources":["E:/React/fybs_project/fybs/fybs/client/src/Components/Post.js"],"sourcesContent":["import \"./Post.modules.css\";\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport blackheart from \"../img/blackheart.png\"\r\nimport redheart from \"../img/redheart.png\"\r\nimport emptyShare from \"../img/emptyShare.png\"\r\nimport blueShare from \"../img/blueShare.png\"\r\nimport emptyRepost from \"../img/emptyRepost.png\"\r\nimport greenRepost from \"../img/greenRepost.png\"\r\n\r\nfunction Post({ user, texto, id }) {\r\n    const [perfil, setPerfil] = useState([]);\r\n    const [likeList, setLikeList] = useState([]);\r\n    const navigate = useNavigate();\r\n    let userid = parseInt(localStorage.getItem(\"id\"));\r\n    let fotoPerfil = \"\";\r\n\r\n    let heart = blackheart;\r\n    let share = emptyShare;\r\n    let repost = emptyRepost;\r\n    let like = 0;\r\n    let i = 0;\r\n    let likeID = 0;\r\n\r\n    let verperfil = \"/verperfil/\" + user\r\n\r\n    const getData = () => {\r\n        Axios.get(\"http://localhost:3001/users\").then((response) => { \r\n            setPerfil(response.data);\r\n        });\r\n\r\n        i = 0;\r\n        while (i < perfil.length){   \r\n            if (user === perfil[i].nome) {\r\n                fotoPerfil = perfil[i].foto; //seta a foto de perfil do dono do post\r\n            }\r\n            i = i + 1;\r\n        } \r\n      \r\n        Axios.get(\"http://localhost:3001/likes\").then((response) => { //seleciona todos os dados de likes\r\n            setLikeList(response.data);\r\n        });\r\n        \r\n        while (i < likeList.length){ //verifica se o user est치 dando like ou dislike\r\n            //console.log(likeList[i].postId, id)\r\n            if (likeList[i].userID === userid && likeList[i].postID === id) {\r\n                //console.log(\"j치 tem like \")\r\n                like = 1;\r\n                likeID = likeList[i].id;\r\n                heart = redheart;\r\n            } \r\n            i = i + 1;\r\n        }\r\n        if (like === 0){\r\n            heart = blackheart;\r\n        }\r\n    }\r\n\r\n    const darLike = () =>{\r\n        console.log(like)\r\n        if (like === 0){\r\n            Axios.post(\"http://localhost:3001/addlike\", { \r\n                user: userid,\r\n                post: id\r\n                \r\n            }).then(() => {\r\n                console.log(\"success\");\r\n            });\r\n            heart = redheart; \r\n        } else {\r\n            Axios.delete(\"http://localhost:3001/dislike\", { \r\n                id: likeID\r\n                }).then(() => {\r\n                    console.log(\"success\");\r\n                });\r\n            console.log(\"dados enviados\")\r\n            heart = blackheart;\r\n        }\r\n\r\n        //window.location.reload()\r\n        /*\r\n        if (heart === blackheart){\r\n            heart = redheart;\r\n            console.log(\"Vermelho\");\r\n        }\r\n        else {\r\n            heart = blackheart;\r\n            console.log(\"Preto\");\r\n        }*/\r\n        //window.location.reload()\r\n    }\r\n\r\n    getData();\r\n\r\n    return (\r\n        <div className=\"post\">\r\n            <div className=\"userPost\">\r\n                <img className=\"profile-pic mr-3\" src={fotoPerfil} />\r\n                <button className=\"btnUser\"><a class=\"btnUser\" href={verperfil}>{user}</a></button>\r\n                <div className=\"corpoPost\">\r\n                    <p className=\"texto\">{texto}</p>\r\n                </div>\r\n                <div className=\"btnIntercoes\">\r\n                <button onClick={darLike}><img src={ heart } /></button>\r\n                <button><img src={ repost } /></button>\r\n                <button><img src={ share } /></button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}