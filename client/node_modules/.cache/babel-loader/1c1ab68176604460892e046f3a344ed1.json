{"ast":null,"code":"var _jsxFileName = \"E:\\\\React\\\\fybs_project\\\\fybs-database v5\\\\client\\\\src\\\\Components\\\\form\\\\NewPost.js\",\n    _s = $RefreshSig$();\n\nimport { Link, useNavigate } from 'react-router-dom';\nimport \"./NewPost.modules.css\";\nimport { useState } from \"react\";\nimport Axios from \"axios\";\nimport Globais from \"../Globais\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction NewPost() {\n  _s();\n\n  const navigate = useNavigate();\n  const [perfil, setPerfil] = useState([]);\n  const [texto, setTexto] = useState(\"\");\n  const [imagem, setImagem] = useState(\"\");\n  let id = parseInt(localStorage.getItem(\"id\"));\n  let fotoPerfil = \"\";\n  let user = \"\";\n  Axios.get(\"http://localhost:3001/users\").then(response => {\n    setPerfil(response.data);\n  });\n  let i = 0;\n\n  while (i < perfil.length) {\n    if (id === perfil[i].id) {\n      fotoPerfil = perfil[i].foto;\n      user = perfil[i].nome;\n    }\n\n    i = i + 1;\n  }\n\n  const sendPost = () => {\n    console.log(\"enviando\");\n    Axios.post(\"http://localhost:3001/createpost\", {\n      texto: texto,\n      user: user,\n      imagem: imagem,\n      id: id\n    }).then(() => {\n      console.log(\"success\");\n    });\n  };\n\n  const verPerfil = () => {\n    navigate(\"/perfil\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nvPost\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: verPerfil,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"profile-pic mr-3\",\n          src: fotoPerfil\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"texto\",\n        placeholder: \"O que voc\\xEA est\\xE1 jogando hoje?\",\n        onChange: event => {\n          setTexto(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"botoes\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"btnInserir\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"postimage\",\n          name: \"postimage\",\n          accept: \"image/*\",\n          onChange: event => {\n            setImagem(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Foto \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnPubli\",\n        onClick: sendPost,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Publicar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 65\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(NewPost, \"Q4is3LpK6sBcWPkdAxxvTCMBLik=\", false, function () {\n  return [useNavigate];\n});\n\n_c = NewPost;\nexport default NewPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewPost\");","map":{"version":3,"names":["Link","useNavigate","useState","Axios","Globais","NewPost","navigate","perfil","setPerfil","texto","setTexto","imagem","setImagem","id","parseInt","localStorage","getItem","fotoPerfil","user","get","then","response","data","i","length","foto","nome","sendPost","console","log","post","verPerfil","event","target","value"],"sources":["E:/React/fybs_project/fybs-database v5/client/src/Components/form/NewPost.js"],"sourcesContent":["import { Link, useNavigate } from 'react-router-dom';\r\nimport \"./NewPost.modules.css\"\r\nimport { useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Globais from \"../Globais\";\r\n\r\n\r\nfunction NewPost() {\r\n    const navigate = useNavigate(); \r\n    const [perfil, setPerfil] = useState([]);\r\n    const [texto, setTexto] = useState(\"\");\r\n    const [imagem, setImagem] = useState(\"\"); \r\n    let id = parseInt(localStorage.getItem(\"id\"));\r\n    let fotoPerfil = \"\";\r\n    let user = \"\";\r\n\r\n    Axios.get(\"http://localhost:3001/users\").then((response) => { \r\n          setPerfil(response.data);\r\n        });\r\n        let i = 0;\r\n        while (i < perfil.length){   \r\n            if (id === perfil[i].id) {\r\n                fotoPerfil = perfil[i].foto;\r\n                user = perfil[i].nome;\r\n            }\r\n            i = i + 1;\r\n         } \r\n\r\n    const sendPost = () => {\r\n        console.log(\"enviando\")\r\n        Axios.post(\"http://localhost:3001/createpost\", { \r\n            texto: texto,\r\n            user: user,\r\n            imagem: imagem,\r\n            id: id\r\n        }).then(() => {\r\n            console.log(\"success\");\r\n        });\r\n    }\r\n\r\n    const verPerfil = () => {\r\n        navigate(\"/perfil\");\r\n    }\r\n\r\n    return (\r\n        <form className=\"form\">\r\n            <div className=\"nvPost\">\r\n                <button onClick={verPerfil}><img class=\"profile-pic mr-3\" src={fotoPerfil} /></button>\r\n                <textarea className=\"texto\" placeholder=\"O que você está jogando hoje?\" onChange={(event) => {\r\n                    setTexto(event.target.value);\r\n                }}>\r\n\r\n                </textarea>\r\n            </div>\r\n            <div class=\"botoes\">\r\n                <div class=\"btnInserir\">\r\n                    <input type=\"file\" id=\"postimage\" name=\"postimage\" accept=\"image/*\" onChange={(event) => {\r\n                        setImagem(event.target.value);\r\n                    }}></input>\r\n                    <p> Foto </p>\r\n                </div>\r\n                \r\n                <button className=\"btnPubli\" onClick={sendPost}><p>Publicar</p></button>\r\n                \r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default NewPost;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}