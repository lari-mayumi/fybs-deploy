{"ast":null,"code":"var _jsxFileName = \"E:\\\\React\\\\fybs_project\\\\fybs-database v5\\\\client\\\\src\\\\Components\\\\Login.js\",\n    _s = $RefreshSig$();\n\n//import '../App.css';\nimport React, { useState } from \"react\";\nimport Axios from \"axios\";\nimport \"./Login.modules.css\";\nimport Globais from \"./Globais\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport NavbarInicial from \"./layout/NavbarInicial\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [userList, setUserList] = useState([]);\n  const [name, setName] = useState();\n  const [senha, setSenha] = useState();\n  const [caminho, setCaminho] = useState();\n  const navigate = useNavigate();\n  localStorage.setItem(\"id\", 0);\n\n  const getUsers = () => {\n    Axios.get(\"http://localhost:3001/users\").then(response => {\n      //console.log(userList);\n      setUserList(response.data);\n    });\n    console.log(userList.length);\n    let i = 0;\n\n    while (i < userList.length) {\n      console.log(userList[i].nome, userList[i].id);\n\n      if (userList[i].nome === name && userList[i].senha === senha) {\n        //está duplicando os users e precisa clicar duas vezes no botão pra logar, na primeira da erro\n        console.log(\"Achei:\", name, senha); //não está entrando no if, feed não carrega pq id continua zerado\n\n        localStorage.setItem(\"id\", userList[i].id);\n        localStorage.setItem(\"login\", 1);\n      }\n\n      i = i + 1;\n    }\n\n    console.log(parseInt(localStorage.getItem(\"id\")));\n\n    if (parseInt(localStorage.getItem(\"login\")) === 1) {\n      //ir para o feed\n      localStorage.setItem(\"userName\", name);\n      navigate(\"/feed\");\n      console.log(\"entrando\");\n      console.log(parseInt(localStorage.getItem(\"id\")));\n    } else {\n      console.log(\"Usuário ou senha inválidos.\"); //fazer popup para mostrar isso\n    }\n  };\n\n  return (\n    /*#__PURE__*/\n\n    /**\r\n     * HTML referente a página de Login a função esta retornando o componente, mas \r\n     * na verdadde ele está sendo referenciado em index.html como um root\r\n     */\n    _jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavbarInicial, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal modal-signin position-static d-block bg-secondary py-5\",\n        tabindex: \"-1\",\n        role: \"dialog\",\n        id: \"modalSignin\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog\",\n          role: \"document\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content rounded-5 shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header p-5 pb-4 border-bottom-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body p-5 pt-0\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-floating mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"email\",\n                    className: \"form-control rounded-4\",\n                    id: \"floatingInput\",\n                    placeholder: \"name@example.com\",\n                    onChange: event => {\n                      setName(event.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"floatingInput\",\n                    children: \"Usu\\xE1rio\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-floating mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    className: \"form-control rounded-4\",\n                    id: \"floatingPassword\",\n                    placeholder: \"Password\",\n                    onChange: event => {\n                      setSenha(event.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"floatingPassword\",\n                    children: \"Senha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"w-100 mb-2 btn btn-lg rounded-4 btn-primary\",\n                  type: \"submit\",\n                  onClick: getUsers,\n                  children: \"Entrar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                  className: \"my-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"fs-5 fw-bold mb-3\",\n                  children: \" Ou use uma de suas contas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"w-100 py-2 mb-2 btn btn-outline-dark rounded-4\",\n                  type: \"submit\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"bi me-1\",\n                    width: \"16\",\n                    height: \"16\",\n                    children: /*#__PURE__*/_jsxDEV(\"use\", {\n                      href: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 69\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 21\n                  }, this), \"Entrar com Twitter\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"w-100 py-2 mb-2 btn btn-outline-primary rounded-4\",\n                  type: \"submit\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"bi me-1\",\n                    width: \"16\",\n                    height: \"16\",\n                    children: /*#__PURE__*/_jsxDEV(\"use\", {\n                      href: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 69\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 21\n                  }, this), \"Entrar com Facebook\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this)\n  );\n}\n\n_s(Login, \"2VpU1CL6t0BcC6HC01EwgbWBZ3w=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Axios","Globais","Link","useNavigate","NavbarInicial","Login","userList","setUserList","name","setName","senha","setSenha","caminho","setCaminho","navigate","localStorage","setItem","getUsers","get","then","response","data","console","log","length","i","nome","id","parseInt","getItem","event","target","value"],"sources":["E:/React/fybs_project/fybs-database v5/client/src/Components/Login.js"],"sourcesContent":["//import '../App.css';\r\nimport React, { useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport \"./Login.modules.css\";\r\nimport Globais from \"./Globais\";\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport NavbarInicial from \"./layout/NavbarInicial\";\r\n\r\n\r\nfunction Login(){\r\n  const [userList, setUserList] = useState([]);\r\n  const [name, setName] = useState();\r\n  const [senha, setSenha] = useState();\r\n  const [caminho, setCaminho] = useState();\r\n\r\n  const navigate = useNavigate();\r\n  localStorage.setItem(\"id\", 0);\r\n\r\n  const getUsers = () => {\r\n    Axios.get(\"http://localhost:3001/users\").then((response) => {\r\n      //console.log(userList);\r\n      setUserList(response.data);\r\n    });\r\n    console.log(userList.length)\r\n    let i=0;\r\n    while (i < userList.length) {\r\n      console.log(userList[i].nome, userList[i].id)\r\n      if (userList[i].nome === name && userList[i].senha === senha) { //está duplicando os users e precisa clicar duas vezes no botão pra logar, na primeira da erro\r\n        console.log(\"Achei:\", name, senha); //não está entrando no if, feed não carrega pq id continua zerado\r\n        localStorage.setItem(\"id\", userList[i].id);\r\n        localStorage.setItem(\"login\", 1);\r\n      }\r\n      i = i + 1;  \r\n    }\r\n    console.log(parseInt(localStorage.getItem(\"id\")))\r\n    if (parseInt(localStorage.getItem(\"login\")) === 1) {\r\n      //ir para o feed\r\n      localStorage.setItem(\"userName\", name);\r\n      navigate(\"/feed\");\r\n      console.log(\"entrando\")\r\n      console.log(parseInt(localStorage.getItem(\"id\")))\r\n    }\r\n    else {\r\n      console.log(\"Usuário ou senha inválidos.\"); //fazer popup para mostrar isso\r\n    }\r\n  };\r\n  \r\n  return(\r\n    /**\r\n     * HTML referente a página de Login a função esta retornando o componente, mas \r\n     * na verdadde ele está sendo referenciado em index.html como um root\r\n     */\r\n    \r\n    <div>\r\n        < NavbarInicial />\r\n\r\n        <div className=\"modal modal-signin position-static d-block bg-secondary py-5\" tabindex=\"-1\" role=\"dialog\" id=\"modalSignin\">\r\n          <div className=\"modal-dialog\" role=\"document\">\r\n            <div className=\"modal-content rounded-5 shadow\">\r\n              <div className=\"modal-header p-5 pb-4 border-bottom-0\"></div>\r\n\r\n              <div className=\"modal-body p-5 pt-0\">\r\n                <form className=\"\">\r\n                  <div className=\"form-floating mb-3\">\r\n                    <input type=\"email\" className=\"form-control rounded-4\" id=\"floatingInput\" placeholder=\"name@example.com\"\r\n                      onChange={(event) => {\r\n                        setName(event.target.value);\r\n                      }}/>\r\n                    <label for=\"floatingInput\">Usuário</label>\r\n                  </div>\r\n                  <div className=\"form-floating mb-3\">\r\n                    <input type=\"password\" className=\"form-control rounded-4\" id=\"floatingPassword\" placeholder=\"Password\"\r\n                      onChange={(event) => {\r\n                        setSenha(event.target.value);\r\n                      }}/>\r\n                    <label for=\"floatingPassword\">Senha</label>\r\n                  </div>\r\n                  <button className=\"w-100 mb-2 btn btn-lg rounded-4 btn-primary\" type=\"submit\" onClick={getUsers}>Entrar</button>\r\n                  <hr className=\"my-4\"/>\r\n                    <h2 className=\"fs-5 fw-bold mb-3\"> Ou use uma de suas contas</h2>\r\n                  <button className=\"w-100 py-2 mb-2 btn btn-outline-dark rounded-4\" type=\"submit\">\r\n                    <svg className=\"bi me-1\" width=\"16\" height=\"16\"><use href=\"#\"/></svg>\r\n                    Entrar com Twitter\r\n                  </button>\r\n                  <button className=\"w-100 py-2 mb-2 btn btn-outline-primary rounded-4\" type=\"submit\">\r\n                    <svg className=\"bi me-1\" width=\"16\" height=\"16\"><use href=\"#\"/></svg>\r\n                    Entrar com Facebook\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}